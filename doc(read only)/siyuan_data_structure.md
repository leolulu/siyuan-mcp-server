# 数据库表

## `blocks` 表

该表用于存储内容块数据。

|字段|说明|
| ----------: | -------------------------------------------|
|id|内容块 ID|
|parent_id|父块的 ID，如果内容块是文档块则该字段为空|
|root_id|根块 ID，即文档块 ID|
|hash|content 的 SHA256 校验和|
|box|笔记本 ID|
|path|内容块所在文档路径|
|hpath|人类可读的内容块所在文档路径|
|name|内容块名称|
|alias|内容块别名|
|memo|内容块备注|
|content|去除了 Markdown 标记符的文本|
|fcontent|第一个子块去除了 Markdown 标记符的文本|
|markdown|包含完整 Markdown 标记符的文本|
|length|​`fcontent` 长度|
|type|内容块类型，参考[这里](类型过滤.md#20210210103523-ombf290)|
|subtype|内容块子类型，参考[这里](类型过滤.md#20210210103411-tcbcjja)|
|ial|内联属性列表，形如 `{: name="value"}`​|
|sort|排序用，数值越小排序越靠前|
|created|创建时间，例如 `20221013202001`​|
|updated|更新时间，例如 `20221013202001`​|

## 默认值

- 如果不指定 `LIMIT`，则最多只返回前 64 条结果，可以在 <kbd>设置</kbd> - <kbd>搜索</kbd> - <kbd>搜索结果显示数</kbd> 进行调整
- ​`sort` 字段

  - 标题块：`5`​
  - 段落块：`10`​
  - 代码块：`10`​
  - 数学公式块：`10`​
  - 表格块：`10`​
  - HTML 块：`10`​
  - 列表块：`20`​
  - 列表项块：`20`​
  - 引述块：`20`​
  - 超级块：`30`​
  - 数据库块：`30`​
  - 文档块：`0`​


# 类型过滤

## <span id="20210210103523-ombf290" style="display: none;"></span>类型字段 `type`

- ​`d` 文档块（仅在文档名上搜索，不会搜索文档包含内容块）
- ​`h` 标题块（仅在标题名上搜索，不会搜索标题块下方内容块）
- ​`l` 列表块（包含有序列表块、无序列表块和任务列表块）
- ​`i` 列表项块
- ​`b` 引述块
- ​`s` 超级块
- ​`p` 段落块
- ​`c` 代码块
- ​`m` 公式块
- ​`t` 表格块
- ​`av` 数据库块
- ​`query_embed` 嵌入块
- ​`video` 视频块
- ​`audio` 音频块
- ​`widget` 挂件块
- ​`iframe` IFrame 块
- ​`html` HTML 块
- ​`tb` 分隔线

## <span id="20210210103411-tcbcjja" style="display: none;"></span>子类型字段 `subtype`

列表块/列表项块子类型：

- `o`：有序
- `u`：无序
- `t`：任务

标题块子类型：

- `h1`：一级
- `h2`：二级
- `h3`：三级
- `h4`：四级
- `h5`：五级
- `h6`：六级

其他类型的内容块没有子类型。
